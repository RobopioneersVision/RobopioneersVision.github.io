<hr>
<p>title: Linux 多进程共享内存数据.md<br>toc: true<br>date: 2021-12-22 09:25:00</p>
<hr>
<h1 id="Linux-多进程共享内存数据"><a href="#Linux-多进程共享内存数据" class="headerlink" title="Linux 多进程共享内存数据"></a>Linux 多进程共享内存数据</h1><p><a href="https://www.zhihu.com/question/278096019">https://www.zhihu.com/question/278096019</a></p>
<p>几个问题：</p>
<p>1：30多M指的是一个xml还是所有的xml占内存总和？如果是一个，那这些文件太大了，分段或者分批读吧。如果是总和，那没理由内存不足吧？除非是那种嵌入式系统里。</p>
<p>2：如果你想做一个类似配置文件代理的服务，那用AP_UNIX就可以了。</p>
<p>3：如果确信大部分的配置文件需要持续保持高频访问，那么用c结构体然后放命名的shm是可以的，而且性能也是最高的。但一般来说，几千个几十M的配置文件都有这需求，似乎不太可能吧？</p>
<p>4：这么大量的配置文件，其实可以考虑用正经的嵌入式数据库了，什么sqlite，bdb之类的都可以。你只需要随便做一个xml2db这样的转换脚本导一下就行。</p>
